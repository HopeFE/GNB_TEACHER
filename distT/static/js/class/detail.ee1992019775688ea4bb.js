webpackJsonp([28],{"5Vow":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\n.gnb-changeClass[data-v-6b1deb34] {\n  margin-right: 8px;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-6b1deb34] {\n  background: #fff;\n  width: 5em;\n  border-radius: 8px;\n  padding: .5rem ;\n  top: 2.3rem;\n  left: 86%;\n  -webkit-transform: translate(-50%, 0);\n}\n.gnb-changeClass .gnb-changeClass-popup p[data-v-6b1deb34] {\n  font-size: .8rem;\n  text-align: center;\n  line-height: 1.8rem;\n  color: #555;\n  width: 4rem;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n}\n.gnb-changeClass .gnb-changeClass-popup .active[data-v-6b1deb34] {\n  background: #ccc;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-6b1deb34]:before {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border: solid transparent;\n  border-width: .5rem;\n  border-bottom-color: #fff;\n  content: '';\n  position: absolute;\n  top: -0.9rem;\n  right: 1rem;\n}\n",""])},B3TT:function(t,e,a){"use strict";function s(t){a("d56e")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),o=a("exGp"),l=a.n(o),r=a("Dd8w"),c=a.n(r),d=(a("q/am"),a("4VPn")),p=a.n(d),h=a("ABCa"),u=a("1DHf"),b=a("rHil"),m=a("1sNz"),f=a("jOlP"),g=a("UIMx"),v=a("dgEa"),C=a("2sLL"),x=a("YxJB"),_=a("3Lt7"),y=a("NYxO"),w=a("xJtg"),k={name:"classmate",components:{XHeader:h.a,Cell:u.a,Group:b.a,ViewBox:m.a,Spinner:f.a,XButton:C.a,Tabbar:g.a,TabbarItem:v.a,Flexbox:x.a,FlexboxItem:_.a,share:w.a,"mt-popup":p.a},computed:c()({},Object(y.mapGetters)(["ClassMyClassmate"])),data:function(){return{visible:!1,showAction:!1,loading:!0,share:{content:"归纳本辅导更轻松，提分更明显",title:"加入我的班级",href:""}}},methods:c()({},Object(y.mapActions)(["getMyClassmateList","myClassmateClear","delClass","getUserInfo"]),{_toUpdateName:function(){this.visible=!1,this.$router.push({name:"class_update_name",params:{code:this.ClassMyClassmate.classcode,name:this.ClassMyClassmate.classname}})},_toUpdateStudent:function(){this.visible=!1,this.$router.push({name:"class_classmate_update",params:{code:this.ClassMyClassmate.classcode,name:this.ClassMyClassmate.classname}})},_delClass:function(){this.visible=!1;var t=this;this.$vux.confirm.show({title:"是否删除"+t.ClassMyClassmate.classname+"?",dialogTransition:"vux-fade",onConfirm:function(){var e=this;return l()(i.a.mark(function a(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delClass();case 2:return e.next=4,t.getUserInfo();case 4:history.go(-1);case 5:case"end":return e.stop()}},a,e)}))()}})},_getData:function(){var t=this;this.loading=!0,this.getMyClassmateList().then(function(){t.loading=!1}).catch(function(e){t.loading=!1})},_invite:function(t){this.share.href="http://share.guinaben.com/#/class?code="+t,this.showAction=!0}}),beforeRouteEnter:function(t,e,a){a(function(t){t.loading=!0,t.myClassmateClear(),t._getData()})},beforeRouteLeave:function(t,e,a){this.showAction?(this.showAction=!1,a(!1)):this.visible?(this.visible=!1,a(!1)):a()}},M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view-box",{ref:"myClass",attrs:{"body-padding-top":"100px"}},[a("div",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header"},slot:"header"},[a("x-header",{attrs:{"left-options":{backText:t.ClassMyClassmate.classname?t.ClassMyClassmate.classname:"",showBack:!0}}},[a("div",{attrs:{slot:"right"},slot:"right"},[a("i",{staticClass:"icon iconfont icon-6",staticStyle:{padding:"8px","font-size":"28px",top:"2px",right:"-15px"},on:{click:function(e){t.visible=!0}}}),t._v(" "),a("div",{staticClass:"gnb-changeClass"},[a("mt-popup",{staticClass:"gnb-changeClass-popup",attrs:{"popup-transition":"popup-fade"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",{on:{click:function(e){t._toUpdateName()}}},[t._v("修改班级")]),t._v(" "),a("p",{on:{click:function(e){t._toUpdateStudent()}}},[t._v("删除学生")]),t._v(" "),a("p",{on:{click:function(e){t._delClass()}}},[t._v("删除班级")])])],1)])]),t._v(" "),a("flexbox",{staticStyle:{padding:".4rem",background:"#fff"}},[a("flexbox-item",{staticStyle:{"font-size":".7rem"},attrs:{span:8}},[t._v("我的班级码: "),a("b"),t._v(t._s(t.ClassMyClassmate.classcode))]),t._v(" "),a("flexbox-item",{staticStyle:{color:"#4bb7aa"},attrs:{span:4}},[a("x-button",{attrs:{type:"primary",plain:"",mini:""},nativeOn:{click:function(e){t._invite(t.ClassMyClassmate.classcode)}}},[t._v("邀请学生")])],1)],1)],1),t._v(" "),t.loading?t._e():[a("group",{attrs:{title:"学生列表"}},t._l(t.ClassMyClassmate.classmates,function(e,s){return a("cell",{key:s},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.headImg,expression:"student.headImg"}],staticStyle:{display:"block","margin-right":"5px","border-radius":"50%",background:"#ddd"},attrs:{slot:"icon",width:"30",height:"30"},slot:"icon"}),t._v(" "),a("div",{attrs:{slot:"after-title"},slot:"after-title"},[t._v(t._s(e.name))])])}))],t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[t.loading?a("spinner",{attrs:{type:"lines"}}):t._e()],1),t._v(" "),a("share",{attrs:{change:t.showAction,showAction:t.showAction,content:t.share.content,title:t.share.title,href:t.share.href},on:{"update:change":function(e){t.showAction=e}}})],2)},A=[],S={render:M,staticRenderFns:A},U=S,z=a("VU/8"),I=s,j=z(k,U,!1,I,"data-v-6b1deb34",null);e.default=j.exports},d56e:function(t,e,a){var s=a("5Vow");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("778f5a6e",s,!0)}});