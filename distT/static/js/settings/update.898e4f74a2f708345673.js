webpackJsonp([7],{KmA6:function(n,e,t){var i=t("w2Wm");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("0d4b0196",i,!0)},shXn:function(n,e,t){"use strict";function i(n){t("KmA6")}Object.defineProperty(e,"__esModule",{value:!0});var l=t("Xxa5"),o=t.n(l),r=t("exGp"),a=t.n(r),s=t("Dd8w"),c=t.n(s),u=t("ABCa"),p=t("rHil"),d=t("1sNz"),h=t("pDNl"),f=t("/0UN"),w=t("hGvq"),m=t("wwIJ"),b=t("1DHf"),x=t("Msp2"),g=t("NYxO"),v={name:"update",components:{XHeader:u.a,Group:p.a,ViewBox:d.a,XInput:h.a,Checker:f.a,CheckerItem:w.a,Selector:m.a,Cell:b.a,Actionsheet:x.a},computed:c()({},Object(g.mapGetters)(["User"])),data:function(){return{name:"",sex:0,school:"",subjectId:"",sublist:[{key:"2",value:"数学"}],show:!1,menus:{menu1:"拍照",menu2:"选择照片"}}},methods:c()({},Object(g.mapActions)(["setHeadImg","setUserInfo","getUserInfo"]),{_getImage:function(){var n=this;plus.camera.getCamera().captureImage(function(e){plus.io.resolveLocalFileSystemURL(e,function(e){n.setHeadImg(e.toLocalURL()),n.$router.push({name:"settings_photo"})})})},_galleryImgs:function(){var n=this;plus.gallery.pick(function(e){n.setHeadImg(e.files[0]),n.$router.push({name:"settings_photo"})},function(){n.$vux.toast.show({text:"您已取消选择图片",type:"text",time:1e3,position:"bottom"})},{filter:"image",multiple:!0})},_menusClick:function(n){"menu1"===n?this._getImage():this._galleryImgs()}}),beforeRouteEnter:function(n,e,t){t(function(n){n.name=n.User.name,n.school=n.User.school,n.subjectId=n.User.subjectId,n.sex=n.User.sex})},beforeRouteLeave:function(n,e,t){var i=this;if("user"===n.name)return a()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.setUserInfo({name:i.name,sex:i.sex,school:i.school,subjectId:i.subjectId});case 2:return n.next=4,i.getUserInfo();case 4:t();case 5:case"end":return n.stop()}},n,i)}))();t()}},_=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("view-box",{ref:"userinfoUpdate",attrs:{"body-padding-top":"46px"}},[t("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"修改资料"}},slot:"header"}),n._v(" "),t("group",{attrs:{gutter:"0"}},[t("cell",{attrs:{title:"头像"},nativeOn:{click:function(e){n.show=!n.show}}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.User.headImg,expression:"User.headImg"}],attrs:{slot:"default",width:"60",height:"60"},slot:"default"})]),n._v(" "),t("x-input",{staticClass:"input_right",attrs:{title:"姓名"},model:{value:n.name,callback:function(e){n.name=e},expression:"name"}}),n._v(" "),t("cell",{attrs:{title:"性别"}},[t("checker",{attrs:{slot:"default","default-item-class":"demo2-item","selected-item-class":"demo2-item-selected"},slot:"default",model:{value:n.sex,callback:function(e){n.sex=e},expression:"sex"}},[t("checker-item",{attrs:{value:"1"}},[n._v("男")]),n._v(" "),t("checker-item",{attrs:{value:"0"}},[n._v("女")])],1)],1)],1),n._v(" "),t("group",[t("x-input",{staticClass:"input_right",attrs:{title:"任职学校/机构"},model:{value:n.school,callback:function(e){n.school=e},expression:"school"}}),n._v(" "),t("selector",{attrs:{title:"主教科目",options:n.sublist},model:{value:n.subjectId,callback:function(e){n.subjectId=e},expression:"subjectId"}})],1),n._v(" "),t("group",[t("cell",{attrs:{title:"修改密码",link:{name:"settings_pwd"},"is-link":""}})],1),n._v(" "),t("actionsheet",{attrs:{menus:n.menus},on:{"on-click-menu":n._menusClick},model:{value:n.show,callback:function(e){n.show=e},expression:"show"}})],1)},k=[],y={render:_,staticRenderFns:k},C=y,D=t("VU/8"),I=i,j=D(v,C,!1,I,null,null);e.default=j.exports},w2Wm:function(n,e,t){e=n.exports=t("FZ+f")(!1),e.push([n.i,"\n.input_right .weui-input {\n  text-align: right;\n}\n.demo2-item {\n  width: 27px;\n  height: 27px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  border-radius: 50%;\n  line-height: 23px;\n  text-align: center;\n}\n.demo2-item-selected {\n  border: 1px solid #4cc0be;\n  color: #4cc0be;\n}\n.weui-cell_select .weui-select {\n  direction: rtl !important;\n}\n",""])},wwIJ:function(n,e,t){"use strict";function i(n){t("yD7D")}var l=t("pFYg"),o=t.n(l),r=t("NXHL"),a=t.n(r),s=t("KRg4"),c=t("wmxo"),u=t.n(c),p=function(n,e){var t=a()(e,function(e){return e.key===n});return t?t.value:n},d={name:"selector",mixins:[s.a],created:function(){void 0!==this.value&&(this.currentValue=this.value)},beforeMount:function(){this.isIOS=/iPad|iPhone|iPod/.test(window.navigator.userAgent)},computed:{fixIos:function(){return!this.placeholder&&this.isEmptyValue(this.value)&&this.isIOS&&this.title},color:function(){return this.showPlaceholder?"#A9A9A9":""},processOptions:function(){var n=this;if(!this.options.length)return[];var e="object"===o()(this.options[0]);return e&&!this.valueMap?this.options:e&&this.valueMap?this.options.map(function(e){return{key:e[n.valueMap[0]],value:e[n.valueMap[1]]}}):this.options.map(function(n){return{key:n,value:n}})},showPlaceholder:function(){return!(!this.isEmptyValue(this.value)||!this.placeholder)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{isEmptyValue:function(n){return void 0===n||""===n||null===n},cleanStyle:u.a,getFullValue:function(){var n=this;return this.value&&this.options.length?"object"!==o()(this.options[0])?this.value:this.valueMap?this.options.filter(function(e){return e[n.valueMap[0]]===n.value}):this.options.filter(function(e){return e.key===n.value}):null}},filters:{findByKey:p},watch:{value:function(n){this.currentValue=n},currentValue:function(n){this.$emit("input",n),this.$emit("on-change",n)}},props:{title:String,direction:String,options:{type:Array,required:!0},name:String,placeholder:String,readonly:Boolean,value:[Boolean,String,Number,Object],valueMap:{type:Array,validator:function(n){return!(!n.length||2!==n.length)}}},data:function(){return{currentValue:"",isIOS:!1}}},h=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"vux-selector weui-cell",class:{"weui-cell_select":!n.readonly,"weui-cell_select-after":n.title}},[n.title?t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label",class:n.labelClass,style:n.cleanStyle({width:n.$parent.labelWidth,textAlign:n.$parent.labelAlign,marginRight:n.$parent.labelMarginRight}),attrs:{for:"vux-selector-"+n.uuid}},[n._v(n._s(n.title))])]):n._e(),n._v(" "),n.readonly?t("div",{staticClass:"weui-cell__ft vux-selector-readonly"},[n._v("\n    "+n._s(n._f("findByKey")(n.value,n.processOptions))+"\n  ")]):t("div",{staticClass:"weui-cell__bd"},[t("select",{directives:[{name:"model",rawName:"v-model",value:n.currentValue,expression:"currentValue"}],staticClass:"weui-select",staticStyle:{color:"red"},style:n.cleanStyle({direction:n.direction,color:n.color}),attrs:{id:"vux-selector-"+n.uuid,name:n.name},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(n){return n.selected}).map(function(n){return"_value"in n?n._value:n.value});n.currentValue=e.target.multiple?t:t[0]}}},[n.showPlaceholder?t("option",{domProps:{value:null===n.value?"null":"",selected:n.isEmptyValue(n.value)&&!!n.placeholder}},[n._v(n._s(n.placeholder))]):n._e(),n._v(" "),n.fixIos?t("option",{attrs:{disabled:""}}):n._e(),n._v(" "),n._l(n.processOptions,function(e){return t("option",{domProps:{value:e.key}},[n._v(n._s(e.value))])})],2)])])},f=[],w={render:h,staticRenderFns:f},m=w,b=t("VU/8"),x=i,g=b(d,m,!1,x,null,null);e.a=g.exports},y4kv:function(n,e,t){e=n.exports=t("FZ+f")(!1),e.push([n.i,'/**\n* actionsheet\n*/\n/**\n* datetime\n*/\n/**\n* tabbar\n*/\n/**\n* tab\n*/\n/**\n* dialog\n*/\n/**\n* x-number\n*/\n/**\n* checkbox\n*/\n/**\n* check-icon\n*/\n/**\n* Cell\n*/\n/**\n* Mask\n*/\n/**\n* Range\n*/\n/**\n* Tabbar\n*/\n/**\n* Header\n*/\n/**\n* Timeline\n*/\n/**\n* Switch\n*/\n/**\n* Button\n*/\n/**\n* swipeout\n*/\n/**\n* Cell\n*/\n/**\n* Badge\n*/\n/**\n* Popover\n*/\n/**\n* Button tab\n*/\n/* alias */\n/**\n* Swiper\n*/\n/**\n* checklist\n*/\n/**\n* popup-picker\n*/\n/**\n* popup\n*/\n/**\n* popup-header\n*/\n/**\n* form-preview\n*/\n/**\n* load-more\n*/\n/**\n* sticky\n*/\n/**\n* group\n*/\n/**\n* toast\n*/\n/**\n* icon\n*/\n/**\n* calendar\n*/\n/**\n* week-calendar\n*/\n/**\n* search\n*/\n/**\n* radio\n*/\n/**\n* loadmore\n*/\n.weui-cell_access {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  color: inherit;\n}\n.weui-cell_access:active {\n  background-color: #ECECEC;\n}\n.weui-cell_access .weui-cell__ft {\n  padding-right: 13px;\n  position: relative;\n}\n.weui-cell_access .weui-cell__ft:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  margin-top: -4px;\n  right: 2px;\n}\n.weui-cell_link {\n  color: #586C94;\n  font-size: 14px;\n}\n.weui-cell_link:first-child:before {\n  display: block;\n}\n.weui-cell_access.vux-cell-box {\n  padding-right: 13px;\n  position: relative;\n}\n.weui-cell_access.vux-cell-box:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  margin-top: -4px;\n  right: 17px;\n}\n.weui-cells {\n  margin-top: 1.25em;\n  background-color: #FFFFFF;\n  line-height: 1.5;\n  font-size: 16px;\n  overflow: hidden;\n  position: relative;\n}\n.weui-cells:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n}\n.weui-cells:after {\n  content: " ";\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 1px;\n  border-bottom: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 100%;\n          transform-origin: 0 100%;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n}\n.weui-cells__title {\n  margin-top: 0.77em;\n  margin-bottom: 0.3em;\n  padding-left: 15px;\n  padding-right: 15px;\n  color: #999999;\n  font-size: 14px;\n}\n.weui-cells__title + .weui-cells {\n  margin-top: 0;\n}\n.weui-cells__tips {\n  margin-top: .3em;\n  color: #999999;\n  padding-left: 15px;\n  padding-right: 15px;\n  font-size: 14px;\n}\n.weui-cell {\n  padding: 10px 15px;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.weui-cell:before {\n  content: " ";\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 1px;\n  border-top: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: scaleY(0.5);\n          transform: scaleY(0.5);\n  left: 15px;\n}\n.weui-cell:first-child:before {\n  display: none;\n}\n.weui-cell_primary {\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n.weui-cell__bd {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.weui-cell__ft {\n  text-align: right;\n  color: #999999;\n}\n.vux-cell-justify {\n  height: 1.5em;\n}\n.vux-cell-justify.vux-cell-justify:after {\n  content: ".";\n  display: inline-block;\n  width: 100%;\n  overflow: hidden;\n  height: 0;\n}\n.weui-label {\n  display: block;\n  width: 105px;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.weui-input {\n  width: 100%;\n  border: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  background-color: transparent;\n  font-size: inherit;\n  color: inherit;\n  height: 1.5em;\n  line-height: 1.5;\n}\n.weui-input::-webkit-outer-spin-button,\n.weui-input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.weui-textarea {\n  display: block;\n  border: 0;\n  resize: none;\n  width: 100%;\n  color: inherit;\n  font-size: 1em;\n  line-height: inherit;\n  outline: 0;\n}\n.weui-textarea-counter {\n  color: #B2B2B2;\n  text-align: right;\n}\n.weui-cell_warn .weui-textarea-counter {\n  color: #E64340;\n}\n.weui-toptips {\n  display: none;\n  position: fixed;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  top: 0;\n  left: 0;\n  right: 0;\n  padding: 5px;\n  font-size: 14px;\n  text-align: center;\n  color: #FFF;\n  z-index: 5000;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.weui-toptips_warn {\n  background-color: #E64340;\n}\n.weui-cells_form .weui-cell__ft {\n  font-size: 0;\n}\n.weui-cells_form .weui-icon-warn {\n  display: none;\n}\n.weui-cells_form input,\n.weui-cells_form textarea,\n.weui-cells_form label[for] {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.weui-cell_warn {\n  color: #E64340;\n}\n.weui-cell_warn .weui-icon-warn {\n  display: inline-block;\n}\n.weui-cell_select {\n  padding: 0;\n}\n.weui-cell_select .weui-select {\n  padding-right: 30px;\n}\n.weui-cell_select .weui-cell__bd:after {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  right: 15px;\n  margin-top: -4px;\n}\n.weui-select {\n  -webkit-appearance: none;\n  border: 0;\n  outline: 0;\n  background-color: transparent;\n  width: 100%;\n  font-size: inherit;\n  height: 44px;\n  line-height: 44px;\n  position: relative;\n  z-index: 1;\n  padding-left: 15px;\n}\n.weui-cell_select-before {\n  padding-right: 15px;\n}\n.weui-cell_select-before .weui-select {\n  width: 105px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.weui-cell_select-before .weui-cell__hd {\n  position: relative;\n}\n.weui-cell_select-before .weui-cell__hd:after {\n  content: " ";\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 1px;\n  bottom: 0;\n  border-right: 1px solid #D9D9D9;\n  color: #D9D9D9;\n  -webkit-transform-origin: 100% 0;\n          transform-origin: 100% 0;\n  -webkit-transform: scaleX(0.5);\n          transform: scaleX(0.5);\n}\n.weui-cell_select-before .weui-cell__hd:before {\n  content: " ";\n  display: inline-block;\n  height: 6px;\n  width: 6px;\n  border-width: 2px 2px 0 0;\n  border-color: #C8C8CD;\n  border-style: solid;\n  -webkit-transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\n  position: relative;\n  top: -2px;\n  position: absolute;\n  top: 50%;\n  right: 15px;\n  margin-top: -4px;\n}\n.weui-cell_select-before .weui-cell__bd {\n  padding-left: 15px;\n}\n.weui-cell_select-before .weui-cell__bd:after {\n  display: none;\n}\n.weui-cell_select-after {\n  padding-left: 15px;\n}\n.weui-cell_select-after .weui-select {\n  padding-left: 0;\n}\n.vux-selector-no-padding {\n  padding-left: 0;\n}\n.vux-selector.weui-cell_select {\n  padding: 0;\n}\n.vux-selector.weui-cell_select-after {\n  padding-left: 15px;\n}\n.vux-selector-readonly {\n  width: 100%;\n}\n',""])},yD7D:function(n,e,t){var i=t("y4kv");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("60dd518d",i,!0)}});