webpackJsonp([95],{"1Ak0":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};o.d(n,"Homework",function(){return s});var a={};o.d(a,"getHomework",function(){return h}),o.d(a,"setHomework",function(){return k}),o.d(a,"setHomeworkAudio",function(){return w}),o.d(a,"addHomeworkClass",function(){return E}),o.d(a,"setHomeworkScroll",function(){return p}),o.d(a,"clearHomework",function(){return I}),o.d(a,"setHomeworkImage",function(){return _}),o.d(a,"addHomeworkImage",function(){return g}),o.d(a,"delHomeworkImage",function(){return v}),o.d(a,"resetHomeworkImage",function(){return b});var u,r=o("Dd8w"),c=o.n(r),d=o("bOdI"),i=o.n(d),s=function(t){return t},l=o("//Fk"),m=o.n(l),f=o("YEn3"),O=o("7+uW"),h=function(t,e){var o=t.rootState,n=t.commit;return new m.a(function(t,a){Object(f.a)({method:"get",url:"homework/list",params:{token:o.common.user.token,subjectId:e.subjectId}}).then(function(o){n("HOMEWORK",{subjectId:e.subjectId,data:o.data.data}),t(o)}).catch(function(t){a(t)})})},k=function(t,e){var o=t.rootState,n=t.state;t.dispatch;return O.default.$vux.loading.show({text:"请稍候"}),new m.a(function(t,a){Object(f.a)({method:"post",url:"homework/put",data:{token:o.common.user.token,subjectId:n.subjectId,classCodes:e.classCodes,data:{img:e.img||[],content:e.content||""}}}).then(function(e){O.default.$vux.loading.hide(),t(e)}).catch(function(t){O.default.$vux.loading.hide(),a(t)})})},w=function(t,e){var o=t.rootState,n=(t.commit,t.state);return O.default.$vux.loading.show({text:"请稍候"}),new m.a(function(t,a){var u=plus.uploader.createUpload("https://www.guinaben.com/teacher/homework/putAudio",{method:"POST"},function(e,o){200===o?(O.default.$vux.loading.hide(),t(e)):(O.default.$vux.loading.hide(),alert("Upload failed: "+o),a(o))});u.addFile(e.audio,{key:"audio"}),u.addData("subjectId",n.subjectId.toString()),u.addData("classCodes",e.classes.toString()),u.addData("token",o.common.user.token),u.start()})},E=function(t,e){var o=t.rootState;t.state,t.dispatch;return O.default.$vux.loading.show({text:"请稍候"}),new m.a(function(t,n){Object(f.a)({method:"post",url:"homework/classAdd",data:{token:o.common.user.token,homeworkId:o.route.params.id,classCodes:e.classCodes}}).then(function(e){O.default.$vux.loading.hide(),t(e)}).catch(function(t){O.default.$vux.loading.hide(),O.default.$vux.toast.show({text:t.data.msg,type:"text",time:1e3,position:"bottom"}),n(t)})})},p=function(t,e){(0,t.commit)("HOMEWORK_SCROLL",e)},I=function(t){t.rootState;(0,t.commit)("HOMEWORK_RESET")},_=function(t,e){(0,t.commit)("WORKBOOK_IMAGE_UPLOAD",e)},g=function(t,e){(0,t.commit)("HOMEWORK_IMAGE_ADD",e)},v=function(t,e){(0,t.commit)("HOMEWORK_IMAGE_DEL",e)},b=function(t){(0,t.commit)("WORKBOOK_IMAGE_RESET")},H={uploader:{list:[],camera:""},subjectId:2,scroll:0,list:[]},R=(u={},i()(u,"HOMEWORK",function(t,e){t.subjectId=e.subjectId,t.list=e.data}),i()(u,"HOMEWORK_SCROLL",function(t,e){t.scroll=e}),i()(u,"HOMEWORK_RESET",function(t,e){t.subjectId=2,t.scroll=0,t.list=[]}),i()(u,"HOMEWORK_IMAGE_DEL",function(t,e){t.uploader.list.splice(e,1)}),i()(u,"HOMEWORK_IMAGE_ADD",function(t,e){t.uploader.list.push(e),t.uploader.camera=""}),i()(u,"WORKBOOK_IMAGE_RESET",function(t){t.uploader.camera="",t.uploader.list=[]}),i()(u,"WORKBOOK_IMAGE_UPLOAD",function(t,e){t.uploader.camera=e}),u),M={state:H,getters:n,actions:a,mutations:R},K=o("olkN"),j={name:"homework",beforeCreate:function(){K.a.registerModule("homework",c()({},M))}},x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("keep-alive",[o("router-view")],1)},A=[],S={render:x,staticRenderFns:A},W=S,D=o("VU/8"),$=D(j,W,!1,null,null,null);e.default=$.exports}});