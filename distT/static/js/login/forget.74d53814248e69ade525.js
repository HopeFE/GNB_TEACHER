webpackJsonp([81],{s73Z:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),a=i.n(o),s=i("pDNl"),n=i("rHil"),l=i("1sNz"),r=i("2sLL"),c=i("YxJB"),d=i("3Lt7"),u=i("ABCa"),b=i("1DHf"),h=i("NYxO"),p={name:"forget",components:{XInput:s.a,Group:n.a,ViewBox:l.a,XButton:r.a,Flexbox:c.a,FlexboxItem:d.a,XHeader:u.a,Cell:b.a},computed:a()({},Object(h.mapGetters)(["forgetCode","forgetMobile"])),data:function(){return{disableMobile:!1,disableNext:!1,currentDown:!1,mobile:"",code:"",btnValue:"获取验证码","is-code":function(t){return t.length>=6&&t.length<=18}}},methods:a()({},Object(h.mapActions)(["getForgetCode"]),{_next:function(){this.forgetCode.toString()===this.code.toString()?this.$router.replace("resetPassword"):(this.code="",this.$vux.toast.show({text:"错误的验证码",type:"text",time:1e3,position:"bottom"}))},_getCode:function(){var t=this;if(!this.currentDown){this.currentDown=!0;var e=60,i=setInterval(function(){e--,t.btnValue="已发送("+e+")","0"===e.toString()&&(clearInterval(i),t.btnValue="获取验证码",t.currentDown=!1)},1e3),o={mobile:this.mobile,type:2};this.getForgetCode(o)}},_changeMoblie:function(){this.disableMobile=this.$refs.mobile.valid&&!this.currentDown},_changeCode:function(){this.disableNext=this.$refs.mobile.valid&&this.$refs.code.valid}}),watch:{currentDown:function(){this.disableMobile=this.$refs.mobile.valid&&!this.currentDown}}},f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{staticClass:"forget"},[o("div",{staticStyle:{position:"absolute",left:"0",top:"0",width:"100%","z-index":"1"},attrs:{slot:"header"},slot:"header"},[o("x-header",{staticStyle:{position:"fixed",left:"0",top:"0",width:"100%"},attrs:{"left-options":{showBack:!0}}},[t._v("重置密码")])],1),t._v(" "),o("div",{staticStyle:{"padding-top":"46px"}},[o("div",{staticClass:"icon"},[o("img",{attrs:{src:i("ZSgq")}})]),t._v(" "),o("div",{staticClass:"title"},[o("img",{attrs:{src:i("0ivl")}})]),t._v(" "),o("group",{staticClass:"weui_cells_form"},[o("x-input",{ref:"mobile",attrs:{name:"mobile",placeholder:"手机号",keyboard:"number","is-type":"china-mobile"},on:{"on-change":t._changeMoblie},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),t._v(" "),o("div",{staticClass:"weui-cell",staticStyle:{padding:"0"}},[o("div",{staticStyle:{width:"60%"}},[o("x-input",{ref:"code",attrs:{name:"code",placeholder:"验证码",keyboard:"number",min:6,max:6,"is-type":"is-code"},on:{"on-change":t._changeCode},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),t._v(" "),o("div",{staticClass:"code",staticStyle:{width:"40%"}},[o("x-button",{staticStyle:{height:"2.75em","border-radius":"0",border:"0px"},attrs:{slot:"right",text:t.btnValue,type:"primary",disabled:!t.disableMobile},nativeOn:{click:function(e){t._getCode(e)}},slot:"right"})],1)])],1),t._v(" "),o("flexbox",{attrs:{gutter:0,wrap:"wrap"}},[o("flexbox-item",{attrs:{span:.05}}),t._v(" "),o("flexbox-item",{attrs:{span:.9}},[o("group",[o("x-button",{attrs:{type:"primary",disabled:!t.disableNext},nativeOn:{click:function(e){t._next(e)}}},[t._v("下一步")])],1)],1),t._v(" "),o("flexbox-item",{attrs:{span:.05}})],1)],1)])},m=[],x={render:f,staticRenderFns:m},v=x,g=i("VU/8"),_=g(p,v,!1,null,null,null);e.default=_.exports}});