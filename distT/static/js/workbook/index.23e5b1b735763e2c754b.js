webpackJsonp([17],{XxfA:function(t,e,o){"use strict";function n(t){o("a6yv")}Object.defineProperty(e,"__esModule",{value:!0});var a=o("Dd8w"),i=o.n(a),s=(o("q/am"),o("4VPn")),r=o.n(s),l=o("D8a4"),c=o("ABCa"),p=o("1DHf"),b=o("rHil"),d=o("1sNz"),u=o("jOlP"),g=o("UIMx"),f=o("dgEa"),k=o("2sLL"),v=o("NYxO"),h={name:"workbook",components:{Badge:l.a,XHeader:c.a,Cell:p.a,Group:b.a,ViewBox:d.a,Spinner:u.a,XButton:k.a,Tabbar:g.a,TabbarItem:f.a,"mt-popup":r.a},computed:i()({},Object(v.mapGetters)(["workbook","User","workbookOptions"])),data:function(){return{visible:!1,loading:!0}},methods:i()({},Object(v.mapActions)(["getWorkbook","workbookClear","setWorkbookScroll","getWorkbookOptions"]),{_getData:function(){var t=this;this.loading=!0,this.getWorkbook().then(function(){t.loading=!1})}}),beforeRouteEnter:function(t,e,o){o(function(t){t.getWorkbookOptions().then(function(){Number(t.workbookOptions.textbookId)?t._getData():t.$router.push({name:"workbook_options"})})})},beforeRouteLeave:function(t,e,o){this.setWorkbookScroll(this.$refs.viewBox.getScrollTop()),this.visible=!1,o()}},m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px"}},[o("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"查看错题",showBack:!0}},slot:"header"},[o("div",{attrs:{slot:"right"},slot:"right"},[o("i",{staticClass:"icon iconfont icon-6",staticStyle:{padding:"8px","font-size":"28px",top:"2px",right:"-15px"},on:{click:function(e){t.visible=!0}}}),t._v(" "),o("div",{staticClass:"gnb-changeClass"},[o("mt-popup",{staticClass:"gnb-changeClass-popup",attrs:{"popup-transition":"popup-fade"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("p",{on:{click:function(e){t.$router.push({name:"workbook_options"})}}},[t._v("筛选")]),t._v(" "),o("p",{on:{click:function(e){t.$router.push({name:"workbook_update"})}}},[t._v("管理")])])],1)])]),t._v(" "),o("div",[t._l(t.workbook.list.textbook,function(e,n){return o("group",{key:n,attrs:{title:e.textbookName}},t._l(e.list,function(e,n){return e.state?o("cell",{key:n,attrs:{"is-link":""},nativeOn:{click:function(o){t.$router.push({name:"workbook_chapter",params:{workbookId:e.workbookId,name:e.workbookName}})}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img.url+"?imageMogr2/auto-orient/thumbnail/180x240!/format/jpg/interlace/1/blur/1x0/quality/100|imageslim",expression:'workbook.img.url+"?imageMogr2/auto-orient/thumbnail/180x240!/format/jpg/interlace/1/blur/1x0/quality/100|imageslim"'}],attrs:{slot:"icon",width:"60",height:"80"},slot:"icon"}),t._v(" "),e.news?o("div",{staticClass:"badge-value"},[o("badge")],1):t._e(),t._v(" "),o("div",{staticStyle:{width:"90%"},attrs:{slot:"after-title"},slot:"after-title"},[o("p",{staticStyle:{color:"#4cc0be","font-size":"14px"}},[t._v("   "+t._s(e.year)+"版")]),t._v(" "),o("p",{staticClass:"ellipsis",staticStyle:{"font-size":".9rem",padding:".2rem 0"}},[t._v("  "+t._s(e.workbookName))]),t._v(" "),e.version?t._l(e.version.split(","),function(e,n){return o("p",{key:n,staticStyle:{color:"#aaa","font-size":"14px"}},[t._v("\n                 "+t._s(e)+"\n            ")])}):t._e()],2)]):t._e()}))}),t._v(" "),o("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[t.loading?o("spinner",{attrs:{type:"dots"}}):t.User.classes&&0!==t.User.classes.length?t.workbook.list.textbook&&0===t.workbook.list.textbook.length?o("p",{staticStyle:{"font-size":"16px",color:"#666",padding:"0 2rem","text-align":"left"}},[t._v("没有习题册？请让学生到学生端添加习题册")]):t._e():o("p",{staticStyle:{"font-size":"16px",color:"#666",padding:"0 2rem","text-align":"left"},on:{click:function(e){t.$router.push({name:"class_add"})}}},[t._v("\n        没有学生？请点击"),o("span",{staticStyle:{color:"#4cc0be"}},[t._v("创建班级")]),t._v("，并邀请学生加入班级\n      ")])],1)],2)],1)},x=[],w={render:m,staticRenderFns:x},_=w,y=o("VU/8"),C=n,S=y(h,_,!1,C,"data-v-1fb564f6",null);e.default=S.exports},a6yv:function(t,e,o){var n=o("l1Hw");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o("rjj0")("2726860d",n,!0)},l1Hw:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"\n.gnb-changeClass[data-v-1fb564f6] {\n  margin-right: 8px;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-1fb564f6] {\n  background: #fff;\n  width: 5em;\n  border-radius: 8px;\n  padding: .5rem ;\n  top: 2.3rem;\n  left: 86%;\n  -webkit-transform: translate(-50%, 0);\n}\n.gnb-changeClass .gnb-changeClass-popup p[data-v-1fb564f6] {\n  font-size: .8rem;\n  text-align: center;\n  line-height: 1.8rem;\n  color: #555;\n  width: 4rem;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n}\n.gnb-changeClass .gnb-changeClass-popup .active[data-v-1fb564f6] {\n  background: #ccc;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-1fb564f6]:before {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border: solid transparent;\n  border-width: .5rem;\n  border-bottom-color: #fff;\n  content: '';\n  position: absolute;\n  top: -0.9rem;\n  right: 1rem;\n}\n",""])}});