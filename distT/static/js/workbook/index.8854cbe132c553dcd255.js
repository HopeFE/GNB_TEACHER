webpackJsonp([17],{XxfA:function(t,o,e){"use strict";function n(t){e("oNbl")}Object.defineProperty(o,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),s=(e("q/am"),e("4VPn")),r=e.n(s),l=e("D8a4"),c=e("ABCa"),p=e("1DHf"),b=e("rHil"),d=e("1sNz"),u=e("jOlP"),g=e("UIMx"),k=e("dgEa"),f=e("2sLL"),v=e("NYxO"),h={name:"workbook",components:{Badge:l.a,XHeader:c.a,Cell:p.a,Group:b.a,ViewBox:d.a,Spinner:u.a,XButton:f.a,Tabbar:g.a,TabbarItem:k.a,"mt-popup":r.a},computed:i()({},Object(v.mapGetters)(["workbook","User","workbookOptions"])),data:function(){return{visible:!1,loading:!0}},methods:i()({},Object(v.mapActions)(["getWorkbook","workbookClear","setWorkbookScroll","getWorkbookOptions"]),{_getData:function(){var t=this;this.loading=!0,this.getWorkbook().then(function(){t.loading=!1})}}),beforeRouteEnter:function(t,o,e){e(function(t){t.getWorkbookOptions().then(function(){Number(t.workbookOptions.textbookId)?t._getData():t.$router.push({name:"workbook_options"})})})},beforeRouteLeave:function(t,o,e){this.setWorkbookScroll(this.$refs.viewBox.getScrollTop()),this.visible=!1,e()}},m=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px"}},[e("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"批改作业",showBack:!0}},slot:"header"},[e("div",{attrs:{slot:"right"},slot:"right"},[e("i",{staticClass:"icon iconfont icon-6",staticStyle:{padding:"8px","font-size":"28px",top:"2px",right:"-15px"},on:{click:function(o){t.visible=!0}}}),t._v(" "),e("div",{staticClass:"gnb-changeClass"},[e("mt-popup",{staticClass:"gnb-changeClass-popup",attrs:{"popup-transition":"popup-fade"},model:{value:t.visible,callback:function(o){t.visible=o},expression:"visible"}},[e("p",{on:{click:function(o){t.$router.push({name:"workbook_options"})}}},[t._v("筛选")]),t._v(" "),e("p",{on:{click:function(o){t.$router.push({name:"workbook_update"})}}},[t._v("管理")])])],1)])]),t._v(" "),e("div",[t._l(t.workbook.list.textbook,function(o,n){return e("group",{key:n,attrs:{title:o.textbookName}},t._l(o.list,function(o,n){return o.state?e("cell",{key:n,attrs:{"is-link":""},nativeOn:{click:function(e){t.$router.push({name:"workbook_chapter",params:{workbookId:o.workbookId,name:o.workbookName}})}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.img.url+"?imageMogr2/auto-orient/thumbnail/180x240!/format/jpg/interlace/1/blur/1x0/quality/100|imageslim",expression:'workbook.img.url+"?imageMogr2/auto-orient/thumbnail/180x240!/format/jpg/interlace/1/blur/1x0/quality/100|imageslim"'}],attrs:{slot:"icon",width:"60",height:"80"},slot:"icon"}),t._v(" "),o.news?e("div",{staticClass:"badge-value"},[e("badge")],1):t._e(),t._v(" "),e("div",{staticStyle:{width:"90%"},attrs:{slot:"after-title"},slot:"after-title"},[e("p",{staticStyle:{color:"#4cc0be","font-size":"14px"}},[t._v("   "+t._s(o.year)+"版")]),t._v(" "),e("p",{staticClass:"ellipsis",staticStyle:{"font-size":".9rem",padding:".2rem 0"}},[t._v("  "+t._s(o.workbookName))]),t._v(" "),o.version?t._l(o.version.split(","),function(o,n){return e("p",{key:n,staticStyle:{color:"#aaa","font-size":"14px"}},[t._v("\n                 "+t._s(o)+"\n            ")])}):t._e()],2)]):t._e()}))}),t._v(" "),e("div",{staticStyle:{"text-align":"center",padding:"20px 0"}},[t.loading?e("spinner",{attrs:{type:"dots"}}):t.User.classes&&0!==t.User.classes.length?t.workbook.list.textbook&&0===t.workbook.list.textbook.length?e("p",{staticStyle:{"font-size":"16px",color:"#666",padding:"0 2rem","text-align":"left"}},[t._v("没有习题册？请让学生到学生端添加习题册")]):t._e():e("p",{staticStyle:{"font-size":"16px",color:"#666",padding:"0 2rem","text-align":"left"},on:{click:function(o){t.$router.push({name:"class_add"})}}},[t._v("\n        没有学生？请点击"),e("span",{staticStyle:{color:"#4cc0be"}},[t._v("创建班级")]),t._v("，并邀请学生加入班级\n      ")])],1)],2)],1)},x=[],w={render:m,staticRenderFns:x},_=w,y=e("VU/8"),C=n,S=y(h,_,!1,C,"data-v-ac16acc6",null);o.default=S.exports},oNbl:function(t,o,e){var n=e("t968");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("7da2af33",n,!0)},t968:function(t,o,e){o=t.exports=e("FZ+f")(!1),o.push([t.i,"\n.gnb-changeClass[data-v-ac16acc6] {\n  margin-right: 8px;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-ac16acc6] {\n  background: #fff;\n  width: 5em;\n  border-radius: 8px;\n  padding: .5rem ;\n  top: 2.3rem;\n  left: 86%;\n  -webkit-transform: translate(-50%, 0);\n}\n.gnb-changeClass .gnb-changeClass-popup p[data-v-ac16acc6] {\n  font-size: .8rem;\n  text-align: center;\n  line-height: 1.8rem;\n  color: #555;\n  width: 4rem;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n}\n.gnb-changeClass .gnb-changeClass-popup .active[data-v-ac16acc6] {\n  background: #ccc;\n}\n.gnb-changeClass .gnb-changeClass-popup[data-v-ac16acc6]:before {\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border: solid transparent;\n  border-width: .5rem;\n  border-bottom-color: #fff;\n  content: '';\n  position: absolute;\n  top: -0.9rem;\n  right: 1rem;\n}\n",""])}});