webpackJsonp([89],{fw9t:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n={};e.d(n,"getWorkbook",function(){return l}),e.d(n,"workbookClear",function(){return b}),e.d(n,"setWorkbookScroll",function(){return m}),e.d(n,"getWorkbookOptions",function(){return R}),e.d(n,"setWorkbookOptions",function(){return h}),e.d(n,"getWorkbookOptionsTextbook",function(){return p}),e.d(n,"setWorkbookUpdate",function(){return E}),e.d(n,"getWorkbookChapter",function(){return K}),e.d(n,"workbookChapterClear",function(){return x}),e.d(n,"setWorkbookChapterScroll",function(){return _}),e.d(n,"getWorkbookExerciseNum",function(){return C}),e.d(n,"getWorkbookExercisePhoto",function(){return w}),e.d(n,"setWorkbookExerciseRead",function(){return I}),e.d(n,"workbookExerciseClear",function(){return W}),e.d(n,"getWorkbookExerciseErrorPhoto",function(){return S}),e.d(n,"workbookExerciseErrorPhotoClear",function(){return g});var r={};e.d(r,"workbook",function(){return B}),e.d(r,"workbookOptions",function(){return L}),e.d(r,"workbookChapter",function(){return P}),e.d(r,"workbookExercise",function(){return T});var a,i=e("Dd8w"),c=e.n(i),s=e("bOdI"),u=e.n(s),d=e("//Fk"),O=e.n(d),k=e("YEn3"),f=e("7+uW"),l=function(t,o){var e=t.state,n=t.rootState,r=t.commit;return new O.a(function(t,o){Object(k.a)({method:"get",url:"workbook",params:{token:n.common.user.token,options:{editionId:e.options.editionId,grade:e.options.grade,subject:e.options.subject,textbookId:e.options.textbookId}}}).then(function(o){r("WORKBOOK",{data:o.data.data}),t(o)}).catch(function(t){o(t)})})},b=function(t){(0,t.commit)("WORKBOOK_CLEAR")},m=function(t,o){t.rootState;(0,t.commit)("WORKBOOK_SCROLL",{height:o})},R=function(t,o){var e=t.rootState,n=t.commit;return new O.a(function(t,o){Object(k.a)({method:"get",url:"workbook/options",params:{token:e.common.user.token}}).then(function(o){n("WORKBOOK_OPTIONS",o.data.data),t(o)}).catch(function(t){o(t)})})},h=function(t,o){var e=(t.state,t.rootState),n=t.commit;return new O.a(function(t,r){Object(k.a)({method:"post",url:"workbook/addOptions",params:{options:{editionId:o.editionId,grade:o.grade,subject:o.subject,textbookId:o.textbookId},token:e.common.user.token}}).then(function(o){n("WORKBOOK_SET_OPTIONS",o.data.data),t(o)}).catch(function(t){r(t)})})},p=function(t){var o=t.rootState,e=t.commit;return new O.a(function(t,n){Object(k.a)({method:"get",url:"download/textbook",params:{token:o.common.user.token}}).then(function(o){e("WORKBOOK_OPTIONS_TEXTBOOK",o.data.data),t(o)}).catch(function(t){n(t)})})},E=function(t,o){var e=(t.state,t.rootState),n=t.commit;return f.default.$vux.loading.show({text:"请稍候"}),new O.a(function(t,r){Object(k.a)({method:"post",url:"workbook/update",data:{token:e.common.user.token,workbookId:o.workbookId}}).then(function(e){f.default.$vux.loading.hide(),f.default.$vux.toast.show({text:"更新成功",type:"text",time:1e3,position:"bottom"}),n("WORKBOOK_DISPLAY_UPDATE",{pindex:o.pindex,index:o.index,data:e.data.data}),t(e)}).catch(function(t){f.default.$vux.loading.hide(),r(t)})})},K=function(t){var o=(t.state,t.rootState),e=t.commit;return new O.a(function(t,n){Object(k.a)({method:"get",url:"workbook/chapter",params:{token:o.common.user.token,workbookId:o.route.params.workbookId}}).then(function(o){e("WORKBOOK_CHAPTER",o.data.data),t(o)}).catch(function(t){n(t)})})},x=function(t){(0,t.commit)("WORKBOOK_CHAPTER_CLEAR")},_=function(t,o){t.rootState;(0,t.commit)("WORKBOOK_CHAPTER_SCROLL",{height:o})},C=function(t,o){var e=(t.state,t.rootState),n=t.commit;return new O.a(function(t,r){Object(k.a)({method:"get",url:"workbook/chapter/detail/number",params:{token:e.common.user.token,classCode:o.classCode,chapterId:e.route.params.chapterId}}).then(function(e){n("WORKBOOK_EXERCISE",{data:e.data.data,classCode:o.classCode}),t(e)}).catch(function(t){r(t)})})},w=function(t,o){var e=(t.state,t.rootState),n=t.commit;return new O.a(function(t,r){Object(k.a)({method:"get",url:"workbook/chapter/detail/photo",params:{token:e.common.user.token,classCode:o.classCode,chapterId:e.route.params.chapterId}}).then(function(e){n("WORKBOOK_EXERCISE_PHOTO",{data:e.data.data,classCode:o.classCode}),t(e)}).catch(function(t){r(t)})})},I=function(t){var o=t.state,e=t.rootState,n=t.commit;return f.default.$vux.loading.show({text:"请稍候"}),new O.a(function(t,r){Object(k.a)({method:"post",url:"workbook/chapter/isRead",data:{token:e.common.user.token,chapterId:e.route.params.chapterId,classCode:o.exercise.classCode}}).then(function(o){f.default.$vux.loading.hide(),f.default.$vux.toast.show({text:"已阅成功",type:"text",time:1e3,position:"bottom"}),n("WORKBOOK_EXERCISE_READ"),t(o)}).catch(function(t){f.default.$vux.loading.hide(),r(t)})})},W=function(t){(0,t.commit)("WORKBOOK_EXERCISE_CLEAR")},S=function(t,o){var e=(t.state,t.rootState),n=t.commit;return new O.a(function(t,o){Object(k.a)({method:"get",url:"workbook/chapter/detail/error",params:{token:e.common.user.token,classCode:e.workbook.exercise.classCode,wbeid:e.route.params.wbeid,chapterId:e.route.params.chapterId}}).then(function(o){n("WORKBOOK_EXERCISE_ERROR_PHOTO",o.data.data),t(o)}).catch(function(t){o(t)})})},g=function(t){(0,t.commit)("WORKBOOK_EXERCISE_ERROR_PHOTO_CLEAR")},B=function(t){return t.workbook},L=function(t){return t.options},P=function(t){return t.chapter},T=function(t){return t.exercise},v={options:{textbookId:"",editionId:"",subject:"",grade:"",textbookList:[]},workbook:{scroll:0,list:[]},chapter:{list:[],classList:[],scroll:0},exercise:{list:[],classCode:"",isReset:!1,errorList:[],notPost:[],cameraList:[]}},j=v,A=(a={},u()(a,"WORKBOOK",function(t,o){t.workbook.list=o.data}),u()(a,"WORKBOOK_CLEAR",function(t){t.workbook.list=[],t.workbook.scroll=0}),u()(a,"WORKBOOK_SCROLL",function(t,o){t.workbook.scroll=o.height}),u()(a,"WORKBOOK_OPTIONS_TEXTBOOK",function(t,o){t.options.textbookList=o}),u()(a,"WORKBOOK_OPTIONS",function(t,o){t.options={subject:o.subject,grade:o.grade,textbookId:o.textbookId,editionId:o.editionId,textbookList:t.options.textbookList}}),u()(a,"WORKBOOK_DISPLAY_UPDATE",function(t,o){t.workbook.list.textbook[o.pindex].list[o.index].state=o.data.state}),u()(a,"WORKBOOK_SET_OPTIONS",function(t,o){t.options={subject:o.subject,grade:o.grade,textbookId:o.textbookId,editionId:o.editionId,textbookList:t.options.textbookList},t.workbook.list=[],t.workbook.scroll=0}),u()(a,"WORKBOOK_CHAPTER",function(t,o){t.chapter.list=o[0].a,t.chapter.classList=o[0].classList}),u()(a,"WORKBOOK_CHAPTER_CLEAR",function(t){t.chapter.list=[],t.chapter.classList=[]}),u()(a,"WORKBOOK_CHAPTER_SCROLL",function(t,o){t.chapter.scroll=o.height}),u()(a,"WORKBOOK_EXERCISE",function(t,o){t.exercise.classCode=o.classCode,t.exercise.list=o.data}),u()(a,"WORKBOOK_EXERCISE_CLEAR",function(t,o){t.exercise.isReset=!0,t.exercise.list=[],t.exercise.cameraList=[],t.exercise.notPost=[]}),u()(a,"WORKBOOK_EXERCISE_PHOTO",function(t,o){t.exercise.classCode=o.classCode,t.exercise.notPost=o.data.notPost,t.exercise.cameraList=o.data.list}),u()(a,"WORKBOOK_EXERCISE_ERROR_PHOTO",function(t,o){t.exercise.errorList=o}),u()(a,"WORKBOOK_EXERCISE_ERROR_PHOTO_CLEAR",function(t,o){t.exercise.errorList=[]}),u()(a,"WORKBOOK_EXERCISE_READ",function(t){t.exercise.list.isRead=!0}),a),X={state:j,mutations:A,actions:n,getters:r},H=e("olkN"),$={name:"layout",beforeCreate:function(){H.a.registerModule("workbook",c()({},X))}},N=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("keep-alive",[e("router-view")],1)},D=[],y={render:N,staticRenderFns:D},U=y,Y=e("VU/8"),F=Y($,U,!1,null,null,null);o.default=F.exports}});