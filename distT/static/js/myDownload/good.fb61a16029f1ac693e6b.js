webpackJsonp([32],{"DvK+":function(t,o,e){o=t.exports=e("FZ+f")(!1),o.push([t.i,"\n.popup .vux-cell-box[data-v-bccd136c]:before{\r\n  border-top:0px !important;\n}\r\n",""])},GHdc:function(t,o,e){var n=e("DvK+");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("749d6ed6",n,!0)},T2o5:function(t,o,e){"use strict";function n(t){e("GHdc")}Object.defineProperty(o,"__esModule",{value:!0});var i=e("Dd8w"),a=e.n(i),s=e("2sLL"),c=e("ABCa"),r=e("1sNz"),l=e("rHil"),d=e("1DHf"),p=e("7Ah8"),h=e("jOlP"),u=e("NYxO"),f=e("xJtg"),w={name:"good",components:{XButton:s.a,XHeader:c.a,ViewBox:r.a,Group:l.a,Cell:d.a,PopupPicker:p.a,Spinner:h.a,Share:f.a},computed:a()({},Object(u.mapGetters)(["MyDownloadGood"]),{grade:function(){switch(this.options[0]){case"初中":return"789";case"高中":return"10";default:return""}},subject:function(){switch(this.options[1]){case"数学":return"math";case"物理":return"physics";default:return""}}}),data:function(){return{options:["高中","数学"],showPopupPicker:!1,loading:!0,error:!1,showAction:!1,share:{content:"",title:"我的精选题",href:""}}},methods:a()({},Object(u.mapActions)(["getMyDownloadGood","clearMyDownload"]),{_download:function(t){this.share.href=t.url,this.share.content=t.name,this.showAction=!0},_getData:function(){var t=this;this.clearMyDownload({type:"good"}),this.loading=!0,this.getMyDownloadGood({options:{grade:this.grade,subject:this.subject}}).then(function(){t.error=!1,t.loading=!1}).catch(function(o){t.error=!0,t.loading=!1})}}),watch:{options:function(){this.showPopupPicker=!1,this._getData()}},beforeRouteEnter:function(t,o,e){e(function(t){"myDownloadGood_detail"!==o.name&&t._getData()})},beforeRouteLeave:function(t,o,e){this.showAction?(this.showAction=!1,e(!1)):this.showPopupPicker?(this.showPopupPicker=!1,e(!1)):e()}},g=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("view-box",{ref:"about",attrs:{"body-padding-top":"46px"}},[e("x-header",{staticStyle:{width:"100%",position:"absolute",left:"0",top:"0","z-index":"1"},attrs:{slot:"header","left-options":{backText:"精选题"}},slot:"header"},[e("div",{attrs:{slot:"right"},on:{click:function(o){t.showPopupPicker=!0}},slot:"right"},[t._v("筛选")]),t._v(" "),e("div",{staticClass:"popup"},[e("popup-picker",{attrs:{show:t.showPopupPicker,"confirm-text":"确定","show-cell":!1,data:[["初中","高中"],["数学"]]},on:{"on-hide":function(o){t.showPopupPicker=!1}},model:{value:t.options,callback:function(o){t.options=o},expression:"options"}})],1)]),t._v(" "),e("div",[e("group",{directives:[{name:"show",rawName:"v-show",value:t.MyDownloadGood.list.length,expression:"MyDownloadGood.list.length"}],attrs:{gutter:0,title:"只展示最近一个月的试卷"}},t._l(t.MyDownloadGood.list,function(o,n){return e("cell",{key:n,attrs:{title:o.name}},[e("div",{staticStyle:{color:"#4cc0be"}},[e("span",{staticStyle:{padding:"0 5px","line-height":"24px"},on:{click:function(e){t._download(o)}}},[e("i",{staticClass:"icon iconfont icon-download",staticStyle:{"font-size":"16px"}}),t._v("下载\n          ")])])])})),t._v(" "),e("div",{staticStyle:{"text-align":"center",padding:"10px 0"}},[t.loading?e("spinner",{attrs:{type:"lines"}}):t.MyDownloadGood.list.length?t.error?e("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"},on:{click:function(o){t._getData()}}},[t._v("出错了点我重新加载")]):t._e():e("p",{staticStyle:{"font-size":"16px",color:"#4cc0be"}},[t._v("近一月还未有下载记录")])],1)],1),t._v(" "),e("share",{attrs:{change:t.showAction,showAction:t.showAction,content:t.share.content,title:t.share.title,href:t.share.href},on:{"update:change":function(o){t.showAction=o}}})],1)},v=[],x={render:g,staticRenderFns:v},y=x,b=e("VU/8"),_=n,D=b(w,y,!1,_,"data-v-bccd136c",null);o.default=D.exports}});