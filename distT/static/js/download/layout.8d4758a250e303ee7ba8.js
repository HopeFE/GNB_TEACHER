webpackJsonp([97],{b26M:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e={};o.d(e,"DownloadPaper",function(){return s}),o.d(e,"DownloadUrl",function(){return p});var a={};o.d(a,"getDownloadList",function(){return w}),o.d(a,"getDownloadUpdate",function(){return P}),o.d(a,"getDownloadUrl",function(){return _}),o.d(a,"getDownloadVaild",function(){return A}),o.d(a,"setMyDownloadPaperUp",function(){return x}),o.d(a,"setMyDownloadPaperDown",function(){return v}),o.d(a,"setMyDownloadPaperDel",function(){return L}),o.d(a,"setMyDownloadPaperScroll",function(){return h}),o.d(a,"clearMyDownloadPaper",function(){return b});var i,r=o("Dd8w"),d=o.n(r),l=o("olkN"),u=o("bOdI"),c=o.n(u),s=function(t){return t.paper},p=function(t){return t.downloadUrl},f=o("//Fk"),D=o.n(f),m=o("YEn3"),O=o("7+uW"),w=function(t,n){var o=t.rootState,e=t.commit;return new D.a(function(t,n){Object(m.a)({method:"get",url:"download/list",params:{token:o.common.user.token,options:{grade:o.assemble.options.grade,subjectId:o.assemble.options.subject}}}).then(function(n){e("DOWNLOAD_PAPER",n.data.data),t(n)}).catch(function(t){n(t)})})},P=function(t,n){for(var o=t.rootState,e=t.state,a=(t.commit,[]),i=e.paper.list.block,r=0;r<i.length;r++)for(var d=0;d<i[r].list.length;d++)a.push({id:i[r].list[d].exercisesId,form:i[r].list[d].form});return O.default.$vux.loading.show({text:"请稍候"}),new D.a(function(t,n){Object(m.a)({method:"post",url:"download/update/v2",data:{token:o.common.user.token,downloadId:o.route.params.id,ids:a}}).then(function(n){O.default.$vux.loading.hide(),t(n)}).catch(function(t){O.default.$vux.loading.hide(),n(t)})})},_=function(t,n){var o=t.rootState,e=t.state,a=t.commit;return new D.a(function(t,n){Object(m.a)({method:"post",url:"download/download",data:{token:o.common.user.token,downloadId:e.paper.list.downloadId}}).then(function(n){a("DOWNLOAD_URL"),t(n)}).catch(function(t){n(t)})})},A=function(t){var n=t.rootState,o=t.state;t.commit;return new D.a(function(t,e){Object(m.a)({method:"post",url:"download/validDownload",data:{token:n.common.user.token,downloadId:o.paper.list.downloadId}}).then(function(n){t(n)}).catch(function(t){e(t)})})},x=function(t,n){var o=(t.state,t.commit);0===n.index?O.default.$vux.toast.show({text:"不能再上移了",type:"text",time:1e3,position:"bottom"}):o("DOWNLOAD_PAPER_UP",n)},v=function(t,n){var o=t.state,e=t.commit;n.index===o.paper.list.block[n.pindex].list.length-1?O.default.$vux.toast.show({text:"不能再下移了",type:"text",time:1e3,position:"bottom"}):e("DOWNLOAD_PAPER_DOWN",n)},L=function(t,n){(0,t.commit)("DOWNLOAD_PAPER_DEL",n)},h=function(t,n){(0,t.commit)("DOWNLOAD_PAPER_SCROLL",n)},b=function(t){t.rootState;(0,t.commit)("DOWNLOAD_PAPER_RESET")},E={paper:{list:[],scroll:0},downloadUrl:""},R=(i={},c()(i,"DOWNLOAD_PAPER",function(t,n){t.paper.list=n}),c()(i,"DOWNLOAD_URL",function(t){}),c()(i,"DOWNLOAD_PAPER_UP",function(t,n){var o=t.paper.list.block[n.pindex].list;o[n.index]=o.splice(n.index-1,1,o[n.index])[0]}),c()(i,"DOWNLOAD_PAPER_DOWN",function(t,n){var o=t.paper.list.block[n.pindex].list;o[n.index]=o.splice(n.index+1,1,o[n.index])[0]}),c()(i,"DOWNLOAD_PAPER_DEL",function(t,n){t.paper.list.block[n.pindex].list.splice(n.index,1)}),c()(i,"DOWNLOAD_PAPER_RESET",function(t){t.paper.list=[],t.paper.scroll=0}),c()(i,"DOWNLOAD_PAPER_SCROLL",function(t,n){t.paper.scroll=n}),i),k={state:E,getters:e,actions:a,mutations:R},N={name:"download",beforeCreate:function(){l.a.registerModule(["assemble","download"],d()({},k))}},W=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("keep-alive",[o("router-view")],1)},g=[],U={render:W,staticRenderFns:g},S=U,y=o("VU/8"),I=y(N,S,!1,null,null,null);n.default=I.exports}});